<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>統計データ</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* この画面専用のスタイル */
        .stats-container { display: flex; flex-direction: column; gap: 30px; width: 100%;}
        .chart-container { width: 100%; height: 400px; }
        .key-stats-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 10px; }
        .key-stat { background: #f0f0f0; padding: 10px; border-radius: 8px; }
        .key-stat.weak { background: #ffcdd2; } /* 苦手キーのハイライト */
        .key-char { font-size: 1.5em; font-weight: bold; }
        .mistake-rate { font-size: 0.9em; color: #d32f2f; }
    </style>
</head>
<body>
    <div class="container">
        <h1 data-translate-key="statsTitle">統計データ</h1>
        <div class="stats-container">
            <div>
                <h2 data-translate-key="scoreTransition">スコア推移</h2>
                <select id="stage-select"></select>
                <div class="chart-container">
                    <canvas id="score-chart"></canvas>
                </div>
            </div>
            <div>
                <h2 data-translate-key="keyStatsTitle">苦手キー分析 (ミスタッチ数)</h2>
                <div id="key-stats-grid" class="key-stats-grid"></div>
            </div>
        </div>
        <button class="menu-button" data-translate-key="backButton" id="back-button">もどる</button>
    </div>
    <script src="./node_modules/chart.js/dist/chart.umd.js"></script>
    <script src="stats.renderer.js"></script>
</body>
</html>